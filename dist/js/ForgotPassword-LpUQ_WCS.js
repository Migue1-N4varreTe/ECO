var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,l=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&n(e,a,s[a]);if(t)for(var a of t(s))i.call(s,a)&&n(e,a,s[a]);return e},c=(e,s,a)=>new Promise((t,r)=>{var i=e=>{try{l(a.next(e))}catch(s){r(s)}},n=e=>{try{l(a.throw(e))}catch(s){r(s)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,n);l((a=a.apply(e,s)).next())});import{j as m,aM as o,aH as d,ag as x,aN as h}from"./chunk-D1ivKm1I.js";import{a as u,L as j}from"./chunk-CNNdbZTC.js";import{u as p,t as v}from"./chunk-BYIEES8I.js";import{p as f,C as N,n as g,o as y,e as b,B as w,L as E,I as O}from"./index-17eEFbcJ.js";import{A as P,a as k}from"./chunk-Cw3qc0hc.js";import{o as S,s as I}from"./chunk-BdChqvju.js";import"./chunk-DGERTDnL.js";import"./chunk-B5XYL1Sr.js";const L=S({email:I().email("Ingresa un email válido")}),R=()=>{const[e,t]=u.useState(!1),[r,i]=u.useState(!1),{toast:n}=f(),{register:S,handleSubmit:I,watch:R,formState:{errors:C}}=p({resolver:v(L)}),H=R("email"),T=()=>c(null,null,function*(){if(H){i(!0);try{yield new Promise(e=>setTimeout(e,1e3)),n({title:"Email reenviado",description:"Hemos enviado otro email con las instrucciones"})}catch(e){n({title:"Error",description:"No se pudo reenviar el email",variant:"destructive"})}finally{i(!1)}}});return e?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsx("div",{className:"text-center",children:m.jsx(j,{to:"/",className:"inline-flex items-center text-2xl font-bold text-green-600 mb-8",children:m.jsx("span",{className:"ml-2",children:"La Económica"})})}),m.jsxs(N,{children:[m.jsxs(g,{className:"text-center",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:m.jsx(o,{className:"h-6 w-6 text-green-600"})}),m.jsx(y,{className:"text-2xl",children:"Email Enviado"})]}),m.jsxs(b,{className:"space-y-6",children:[m.jsxs("div",{className:"text-center text-gray-600",children:[m.jsx("p",{className:"mb-4",children:"Hemos enviado las instrucciones para restablecer tu contraseña a:"}),m.jsx("p",{className:"font-medium text-gray-900 bg-gray-50 p-3 rounded-md",children:H})]}),m.jsxs(P,{children:[m.jsx(d,{className:"h-4 w-4"}),m.jsx(k,{children:"Si no recibes el email en los próximos minutos, revisa tu carpeta de spam o correo no deseado."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(w,{variant:"outline",onClick:T,disabled:r,className:"w-full",children:r?"Reenviando...":"Reenviar Email"}),m.jsx("div",{className:"text-center",children:m.jsxs(j,{to:"/login",className:"inline-flex items-center text-sm text-green-600 hover:text-green-700 font-medium",children:[m.jsx(x,{className:"h-4 w-4 mr-1"}),"Volver al inicio de sesión"]})})]})]})]}),m.jsx("div",{className:"text-center text-sm text-gray-600",children:m.jsxs("p",{children:["¿Necesitas ayuda?"," ",m.jsx(j,{to:"/contact",className:"text-green-600 hover:text-green-700 font-medium",children:"Contáctanos"})]})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsx("div",{className:"text-center",children:m.jsx(j,{to:"/",className:"inline-flex items-center text-2xl font-bold text-green-600 mb-8",children:m.jsx("span",{className:"ml-2",children:"La Económica"})})}),m.jsxs(N,{children:[m.jsxs(g,{className:"text-center",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:m.jsx(d,{className:"h-6 w-6 text-blue-600"})}),m.jsx(y,{className:"text-2xl",children:"¿Olvidaste tu contraseña?"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Ingresa tu email y te enviaremos las instrucciones para crear una nueva contraseña"})]}),m.jsxs(b,{children:[m.jsxs("form",{onSubmit:I(e=>c(null,null,function*(){i(!0);try{yield new Promise(e=>setTimeout(e,2e3)),t(!0),n({title:"Email enviado",description:"Revisa tu bandeja de entrada para las instrucciones"})}catch(e){n({title:"Error",description:"No se pudo enviar el email. Intenta nuevamente.",variant:"destructive"})}finally{i(!1)}})),className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx(E,{htmlFor:"email",children:"Email"}),m.jsx(O,(V=l({id:"email",type:"email",placeholder:"tu@email.com"},S("email")),q={className:C.email?"border-red-300":""},s(V,a(q)))),C.email&&m.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center",children:[m.jsx(h,{className:"h-4 w-4 mr-1"}),C.email.message]})]}),m.jsx(w,{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:r?m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):"Enviar Instrucciones"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(j,{to:"/login",className:"inline-flex items-center text-sm text-green-600 hover:text-green-700 font-medium",children:[m.jsx(x,{className:"h-4 w-4 mr-1"}),"Volver al inicio de sesión"]})})]})]}),m.jsx("div",{className:"text-center text-sm text-gray-600",children:m.jsxs("p",{children:["¿No tienes una cuenta?"," ",m.jsx(j,{to:"/register",className:"text-green-600 hover:text-green-700 font-medium",children:"Regístrate aquí"})]})})]})});var V,q};export{R as default};
