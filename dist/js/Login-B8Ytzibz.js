var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,n=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&i(e,a,s[a]);if(t)for(var a of t(s))l.call(s,a)&&i(e,a,s[a]);return e},c=(e,t)=>s(e,a(t)),d=(e,s,a)=>new Promise((t,r)=>{var l=e=>{try{n(a.next(e))}catch(s){r(s)}},i=e=>{try{n(a.throw(e))}catch(s){r(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,i);n((a=a.apply(e,s)).next())});import{j as o,ag as m,aH as x,aI as h,aJ as p,aK as u}from"./chunk-D1ivKm1I.js";import{a as j,h as f,u as N,L as b}from"./chunk-CNNdbZTC.js";import{m as v,B as y,C as g,n as w,o as k,e as C,L as S,I as O,d as E}from"./index-17eEFbcJ.js";import{S as I}from"./chunk-BZj8Mp6R.js";import"./chunk-DGERTDnL.js";import"./chunk-BdChqvju.js";import"./chunk-B5XYL1Sr.js";const P=()=>{var e,s,a;const[t,r]=j.useState({email:"",password:""}),[l,i]=j.useState(!1),[P,L]=j.useState({}),[q,D]=j.useState(!1),{login:z}=v(),A=f(),B=N(),F=(null==(s=null==(e=B.state)?void 0:e.from)?void 0:s.pathname)||"/",G=e=>{const{name:s,value:a}=e.target;r(e=>c(n({},e),{[s]:a})),P[s]&&L(e=>c(n({},e),{[s]:""}))},H=(e,s)=>d(null,null,function*(){r({email:e,password:s}),D(!0);try{yield z(e,s),A(F,{replace:!0})}catch(a){L({submit:a.message||"Error al iniciar sesi√≥n. Intenta nuevamente."})}finally{D(!1)}});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-50 to-fresh-50 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6",children:[o.jsxs(y,{variant:"ghost",size:"sm",onClick:()=>A(-1),children:[o.jsx(m,{className:"w-4 h-4 mr-2"}),"Volver"]}),o.jsxs(b,{to:"/",className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"LE"})}),o.jsx("span",{className:"font-display font-bold text-xl text-gray-900 hidden sm:block",children:"La Econ√≥mica"})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[o.jsx("h1",{className:"font-display font-bold text-3xl text-gray-900",children:"¬°Bienvenido de vuelta!"}),o.jsx("p",{className:"text-gray-600",children:"Inicia sesi√≥n para continuar con tus compras"})]}),o.jsxs(g,{className:"animate-slide-in delay-200",children:[o.jsx(w,{className:"space-y-1 pb-4",children:o.jsx(k,{className:"text-xl text-center",children:"Iniciar Sesi√≥n"})}),o.jsxs(C,{className:"space-y-4",children:[o.jsxs("form",{onSubmit:e=>d(null,null,function*(){if(e.preventDefault(),(()=>{const e={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Email inv√°lido"):e.email="El email es requerido",t.password?t.password.length<6&&(e.password="La contrase√±a debe tener al menos 6 caracteres"):e.password="La contrase√±a es requerida",L(e),0===Object.keys(e).length})()){D(!0);try{yield z(t.email,t.password),A(F,{replace:!0})}catch(s){L({submit:s.message||"Error al iniciar sesi√≥n. Intenta nuevamente."})}finally{D(!1)}}}),className:"space-y-4",children:[P.general&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:P.general}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(S,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(O,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",value:t.email,onChange:G,className:E("pl-10 h-12",P.email&&"border-red-500 focus:border-red-500"),disabled:q})]}),P.email&&o.jsx("p",{className:"text-red-500 text-sm",children:P.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(S,{htmlFor:"password",className:"text-sm font-medium",children:"Contrase√±a"}),o.jsxs("div",{className:"relative",children:[o.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(O,{id:"password",name:"password",type:l?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:t.password,onChange:G,className:E("pl-10 pr-10 h-12",P.password&&"border-red-500 focus:border-red-500"),disabled:q}),o.jsx(y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!l),children:l?o.jsx(p,{className:"h-4 w-4"}):o.jsx(u,{className:"h-4 w-4"})})]}),P.password&&o.jsx("p",{className:"text-red-500 text-sm",children:P.password})]}),o.jsx("div",{className:"text-right",children:o.jsx(b,{to:"/forgot-password",className:"text-sm text-brand-600 hover:text-brand-700 font-medium",children:"¬øOlvidaste tu contrase√±a?"})}),P.submit&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-red-700 text-sm",children:P.submit})}),o.jsx(y,{type:"submit",className:"w-full h-12 btn-gradient shadow-glow",disabled:q,children:q?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Iniciando sesi√≥n..."]}):"Iniciar Sesi√≥n"})]}),o.jsx(I,{className:"my-6"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Cuentas de demostraci√≥n"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(y,{variant:"outline",className:"w-full h-10 text-xs",onClick:()=>H("admin@laeconomica.com","password123"),disabled:q,children:"üë®‚Äçüíª Desarrollador (Acceso Total)"}),o.jsx(y,{variant:"outline",className:"w-full h-10 text-xs",onClick:()=>H("owner@laeconomica.com","password123"),disabled:q,children:"üëî Propietario (Gesti√≥n)"}),o.jsx(y,{variant:"outline",className:"w-full h-10 text-xs",onClick:()=>H("manager@laeconomica.com","password123"),disabled:q,children:"üìä Gerente (Operaciones)"}),o.jsx(y,{variant:"outline",className:"w-full h-10 text-xs",onClick:()=>H("supervisor@laeconomica.com","password123"),disabled:q,children:"üë• Supervisor (Turnos)"}),o.jsx(y,{variant:"outline",className:"w-full h-10 text-xs",onClick:()=>H("cashier@laeconomica.com","password123"),disabled:q,children:"üõí Cajero (POS)"})]})]}),o.jsx(I,{className:"my-6"}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["¬øNo tienes cuenta?"," ",o.jsx(b,{to:"/register",state:{from:null==(a=B.state)?void 0:a.from},className:"text-brand-600 hover:text-brand-700 font-medium",children:"Reg√≠strate aqu√≠"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center animate-slide-in delay-400",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-brand-600 text-xl",children:"‚ö°"})}),o.jsx("p",{className:"text-xs text-gray-600",children:"Entrega express"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"w-12 h-12 bg-fresh-100 rounded-full flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-fresh-600 text-xl",children:"üõ°Ô∏è"})}),o.jsx("p",{className:"text-xs text-gray-600",children:"Compra segura"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-purple-600 text-xl",children:"üì±"})}),o.jsx("p",{className:"text-xs text-gray-600",children:"App m√≥vil"})]})]})]})})]})};export{P as default};
