var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;import{j as l,ag as c,aa as d,bn as n}from"./chunk-D1ivKm1I.js";import{a as m,L as x}from"./chunk-CNNdbZTC.js";import{k as h,u as j,p as u,x as p,N as v,B as g,b as f,I as b,C as N,e as y}from"./index-17eEFbcJ.js";import{P as w}from"./chunk-FLXBpBPA.js";import"./chunk-DGERTDnL.js";import"./chunk-BdChqvju.js";import"./chunk-B5XYL1Sr.js";import"./chunk-DqMloB5Z.js";const C=()=>{const[e,C]=m.useState(""),[O,P]=m.useState([]),[k,D]=m.useState([]),{addToCart:$}=h(),{favorites:F,addToFavorites:T,removeFromFavorites:L}=j(),{toast:S}=u();m.useEffect(()=>{const e=p.map((e,l)=>{return c=((e,s)=>{for(var a in s||(s={}))r.call(s,a)&&i(e,a,s[a]);if(t)for(var a of t(s))o.call(s,a)&&i(e,a,s[a]);return e})({},e),d={id:`new-${e.id}-${l}`,isNew:l%3==0,addedDate:new Date(Date.now()-2*l*24*60*60*1e3)},s(c,a(d));var c,d}).filter(e=>e.isNew).sort((e,s)=>s.addedDate.getTime()-e.addedDate.getTime());P(e)},[]),m.useEffect(()=>{const s=O.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase()));D(s)},[e,O]);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(v,{}),l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"flex items-center gap-4 mb-4",children:l.jsx(g,{variant:"ghost",size:"sm",asChild:!0,children:l.jsxs(x,{to:"/",children:[l.jsx(c,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-display font-bold text-3xl text-gray-900 mb-2",children:"Nuevos Productos"}),l.jsx("p",{className:"text-gray-600",children:"Descubre las Ãºltimas incorporaciones a nuestro catÃ¡logo"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(f,{variant:"secondary",className:"bg-brand-100 text-brand-700",children:[k.length," productos nuevos"]})})]})]})}),l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx(b,{placeholder:"Buscar nuevos productos...",value:e,onChange:e=>C(e.target.value),className:"pl-10"})]}),l.jsxs(g,{variant:"outline",children:[l.jsx(n,{className:"h-4 w-4 mr-2"}),"Filtros"]})]})})}),l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsx(N,{className:"bg-gradient-to-r from-brand-500 to-yellow-500 text-white border-0",children:l.jsx(y,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-bold text-xl mb-2",children:"Â¡ReciÃ©n llegados!"}),l.jsx("p",{className:"text-white/90",children:"Productos aÃ±adidos en los Ãºltimos 30 dÃ­as"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold",children:O.length}),l.jsx("div",{className:"text-sm text-white/80",children:"productos nuevos"})]})]})})})}),l.jsx("div",{className:"container mx-auto px-4 pb-12",children:k.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map((e,s)=>l.jsx("div",{className:"relative",children:l.jsx(w,{product:e,onAddToCart:()=>(e=>{$(e,1),S({title:"Producto agregado",description:`${e.name} se agregÃ³ al carrito`})})(e),onToggleFavorite:()=>(e=>{F.some(s=>s.id===e.id)?(L(e.id),S({title:"Removido de favoritos",description:`${e.name} se removiÃ³ de tus favoritos`})):(T(e),S({title:"Agregado a favoritos",description:`${e.name} se agregÃ³ a tus favoritos`}))})(e),isFavorite:F.some(s=>s.id===e.id),className:"h-full"})},`product-${e.id}-${s}`))}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),l.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:"No hay productos nuevos"}),l.jsx("p",{className:"text-gray-600 mb-6",children:e?"No encontramos productos nuevos que coincidan con tu bÃºsqueda":"No hay productos nuevos en este momento"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(g,{variant:"outline",asChild:!0,children:l.jsx(x,{to:"/shop",children:"Ver todos los productos"})}),l.jsx(g,{asChild:!0,children:l.jsx(x,{to:"/",children:"Volver al inicio"})})]})]})})]})};export{C as default};
