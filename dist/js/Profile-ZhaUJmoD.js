var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(s,a,l)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,d=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&i(e,a,s[a]);if(l)for(var a of l(s))t.call(s,a)&&i(e,a,s[a]);return e},c=(e,l)=>s(e,a(l)),n=(e,s)=>{var a={};for(var i in e)r.call(e,i)&&s.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&l)for(var i of l(e))s.indexOf(i)<0&&t.call(e,i)&&(a[i]=e[i]);return a};import{j as o,aS as m,aT as x,aU as h,aV as j,aH as p,as as u,aW as N,ac as v,aX as f,ap as g,aG as y,aY as b,a9 as w,aE as C,av as P,aD as O,aM as k}from"./chunk-D1ivKm1I.js";import{a as S,L as F}from"./chunk-CNNdbZTC.js";import{d as D,m as M,k as L,u as E,N as I,B as R,C as T,e as V,b as X,n as z,o as A,L as G,I as U}from"./index-17eEFbcJ.js";import{T as $,a as J,b as _,c as q}from"./chunk-BDIyvL0l.js";import{S as B,a as H,b as W,c as Y,d as K}from"./chunk-DQJYHBrk.js";import{S as Q}from"./chunk-Z0RKkQGX.js";import"./chunk-DGERTDnL.js";import"./chunk-BdChqvju.js";import"./chunk-B5XYL1Sr.js";const Z=S.forwardRef((e,s)=>{var a=e,{className:l}=a,r=n(a,["className"]);return o.jsx(m,d({ref:s,className:D("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",l)},r))});Z.displayName=m.displayName;S.forwardRef((e,s)=>{var a=e,{className:l}=a,r=n(a,["className"]);return o.jsx(h,d({ref:s,className:D("aspect-square h-full w-full",l)},r))}).displayName=h.displayName;const ee=S.forwardRef((e,s)=>{var a=e,{className:l}=a,r=n(a,["className"]);return o.jsx(x,d({ref:s,className:D("flex h-full w-full items-center justify-center rounded-full bg-muted",l)},r))});ee.displayName=x.displayName;const se=()=>{var e,s,a,l,r;const{user:t,updateProfile:i}=M(),{cartCount:n}=L(),{favoriteCount:m}=E(),[x,h]=S.useState(!1),[se,ae]=S.useState(!1),[le,re]=S.useState({name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",phone:(null==t?void 0:t.phone)||"",birthday:(null==t?void 0:t.birthday)||"",address:{street:(null==(e=null==t?void 0:t.address)?void 0:e.street)||"",city:(null==(s=null==t?void 0:t.address)?void 0:s.city)||"",state:(null==(a=null==t?void 0:t.address)?void 0:a.state)||"",postalCode:(null==(l=null==t?void 0:t.address)?void 0:l.postalCode)||""}}),[te,ie]=S.useState({notifications:{email:!0,push:!0,sms:!1,offers:!0,orderUpdates:!0},privacy:{showProfile:!1,shareData:!1}}),de={totalOrders:47,totalSpent:3250,memberSince:"2023",loyaltyPoints:1250},ce=(e,s)=>{if(e.includes(".")){const[a,l]=e.split(".");re(e=>c(d({},e),{[a]:c(d({},e[a]),{[l]:s})}))}else re(a=>c(d({},a),{[e]:s}))},ne=(e,s,a)=>{ie(l=>c(d({},l),{[e]:c(d({},l[e]),{[s]:a})}))},oe=e=>{switch(e){case"entregado":return"bg-green-100 text-green-700";case"en_camino":return"bg-blue-100 text-blue-700";case"preparando":return"bg-yellow-100 text-yellow-700";case"cancelado":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},me=e=>{switch(e){case"entregado":return o.jsx(k,{className:"w-4 h-4"});case"en_camino":return o.jsx(O,{className:"w-4 h-4"});default:return o.jsx(P,{className:"w-4 h-4"})}};return t?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(I,{}),o.jsxs("div",{className:"container px-4 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(T,{className:"overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-brand-500 to-fresh-500 h-32"}),o.jsx(V,{className:"relative px-6 pb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 -mt-16",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Z,{className:"w-24 h-24 border-4 border-white shadow-lg",children:o.jsx(ee,{className:"text-2xl bg-white text-brand-600",children:null==(r=t.name)?void 0:r.split(" ").map(e=>e[0]).join("")})}),o.jsx(R,{size:"sm",className:"absolute bottom-0 right-0 w-8 h-8 rounded-full p-0 bg-brand-500 hover:bg-brand-600",children:o.jsx(j,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-display font-bold text-2xl text-gray-900",children:t.name}),o.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[o.jsx(p,{className:"w-4 h-4"}),t.email]}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs(X,{className:"bg-brand-100 text-brand-700",children:[o.jsx(u,{className:"w-3 h-3 mr-1"}),"Cliente VIP"]}),o.jsxs(X,{variant:"outline",children:["Miembro desde ",de.memberSince]})]})]}),o.jsxs(R,{onClick:()=>h(!x),variant:x?"outline":"default",className:"w-fit",children:[o.jsx(N,{className:"w-4 h-4 mr-2"}),x?"Cancelar":"Editar perfil"]})]})})]})})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(T,{children:o.jsxs(V,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-brand-600 mb-1",children:de.totalOrders}),o.jsx("div",{className:"text-sm text-gray-600",children:"Pedidos realizados"})]})}),o.jsx(T,{children:o.jsxs(V,{className:"p-4 text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["$",de.totalSpent.toLocaleString()]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total gastado"})]})}),o.jsx(T,{children:o.jsxs(V,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:de.loyaltyPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Puntos de lealtad"})]})}),o.jsx(T,{children:o.jsxs(V,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:m}),o.jsx("div",{className:"text-sm text-gray-600",children:"Productos favoritos"})]})})]}),o.jsxs($,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(J,{className:"grid w-full grid-cols-4",children:[o.jsx(_,{value:"profile",children:"Perfil"}),o.jsx(_,{value:"orders",children:"Pedidos"}),o.jsx(_,{value:"preferences",children:"Preferencias"}),o.jsx(_,{value:"loyalty",children:"Puntos"})]}),o.jsx(q,{value:"profile",className:"space-y-6",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(v,{className:"w-5 h-5"}),"Información personal"]})}),o.jsxs(V,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"name",children:"Nombre completo"}),o.jsx(U,{id:"name",value:le.name,onChange:e=>ce("name",e.target.value),disabled:!x})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"email",children:"Email"}),o.jsx(U,{id:"email",type:"email",value:le.email,onChange:e=>ce("email",e.target.value),disabled:!x})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"phone",children:"Teléfono"}),o.jsx(U,{id:"phone",value:le.phone,onChange:e=>ce("phone",e.target.value),disabled:!x,placeholder:"+52 55 1234 5678"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"birthday",children:"Fecha de nacimiento"}),o.jsx(U,{id:"birthday",type:"date",value:le.birthday,onChange:e=>ce("birthday",e.target.value),disabled:!x})]}),x&&o.jsx(R,{onClick:()=>{return e=null,s=null,a=function*(){ae(!0),yield new Promise(e=>setTimeout(e,1500)),yield i(le),h(!1),ae(!1)},new Promise((l,r)=>{var t=e=>{try{d(a.next(e))}catch(s){r(s)}},i=e=>{try{d(a.throw(e))}catch(s){r(s)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(t,i);d((a=a.apply(e,s)).next())});var e,s,a},className:"w-full btn-gradient",disabled:se,children:se?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Guardando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(f,{className:"w-4 h-4 mr-2"}),"Guardar cambios"]})})]})]}),o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(g,{className:"w-5 h-5"}),"Dirección"]})}),o.jsxs(V,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"street",children:"Calle y número"}),o.jsx(U,{id:"street",value:le.address.street,onChange:e=>ce("address.street",e.target.value),disabled:!x,placeholder:"Av. Polanco 123"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"city",children:"Ciudad"}),o.jsx(U,{id:"city",value:le.address.city,onChange:e=>ce("address.city",e.target.value),disabled:!x})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"state",children:"Estado"}),o.jsxs(B,{value:le.address.state,onValueChange:e=>ce("address.state",e),disabled:!x,children:[o.jsx(H,{children:o.jsx(W,{})}),o.jsxs(Y,{children:[o.jsx(K,{value:"CDMX",children:"Ciudad de México"}),o.jsx(K,{value:"MEX",children:"Estado de México"}),o.jsx(K,{value:"JAL",children:"Jalisco"}),o.jsx(K,{value:"NL",children:"Nuevo León"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(G,{htmlFor:"postalCode",children:"Código postal"}),o.jsx(U,{id:"postalCode",value:le.address.postalCode,onChange:e=>ce("address.postalCode",e.target.value),disabled:!x,placeholder:"11550"})]})]})]})]})}),o.jsx(q,{value:"orders",className:"space-y-6",children:o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(y,{className:"w-5 h-5"}),"Pedidos recientes"]})}),o.jsxs(V,{children:[o.jsx("div",{className:"space-y-4",children:[{id:"ORD-2024-001",date:"2024-01-15",status:"entregado",total:89.5,items:8},{id:"ORD-2024-002",date:"2024-01-12",status:"entregado",total:125.3,items:12},{id:"ORD-2024-003",date:"2024-01-08",status:"entregado",total:67.8,items:6}].map(e=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"text-brand-600",children:me(e.status)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.id}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})}),o.jsxs("p",{className:"text-sm text-gray-600",children:[e.items," productos"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-semibold",children:["$",e.total]}),o.jsx(X,{className:D("text-xs",oe(e.status)),children:e.status})]})]},e.id))}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(R,{variant:"outline",asChild:!0,children:o.jsx(F,{to:"/orders",children:"Ver todos los pedidos"})})})]})]})}),o.jsx(q,{value:"preferences",className:"space-y-6",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(b,{className:"w-5 h-5"}),"Notificaciones"]})}),o.jsx(V,{className:"space-y-4",children:Object.entries(te.notifications).map(([e,s])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(G,{htmlFor:e,className:"text-sm",children:["email"===e&&"Notificaciones por email","push"===e&&"Notificaciones push","sms"===e&&"Mensajes SMS","offers"===e&&"Ofertas y promociones","orderUpdates"===e&&"Actualizaciones de pedidos"]}),o.jsx(Q,{id:e,checked:s,onCheckedChange:s=>ne("notifications",e,s)})]},e))})]}),o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(w,{className:"w-5 h-5"}),"Privacidad"]})}),o.jsx(V,{className:"space-y-4",children:Object.entries(te.privacy).map(([e,s])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(G,{htmlFor:e,className:"text-sm",children:["showProfile"===e&&"Perfil público","shareData"===e&&"Compartir datos para mejorar el servicio"]}),o.jsx(Q,{id:e,checked:s,onCheckedChange:s=>ne("privacy",e,s)})]},e))})]})]})}),o.jsx(q,{value:"loyalty",className:"space-y-6",children:o.jsxs(T,{children:[o.jsx(z,{children:o.jsxs(A,{className:"flex items-center gap-2",children:[o.jsx(C,{className:"w-5 h-5"}),"Programa de lealtad"]})}),o.jsxs(V,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:de.loyaltyPoints}),o.jsx("p",{className:"text-gray-600",children:"Puntos disponibles"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Próximo nivel: 250 puntos más"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-4",children:"¿Cómo ganar puntos?"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(u,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:"1 punto por cada $10 gastados"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(u,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:"50 puntos por reseñas de productos"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(u,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:"100 puntos por referir amigos"})]})]})]}),o.jsxs(R,{className:"w-full btn-gradient",children:[o.jsx(C,{className:"w-4 h-4 mr-2"}),"Canjear puntos"]})]})]})})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(I,{}),o.jsxs("div",{className:"container px-4 py-16 text-center",children:[o.jsx("p",{className:"text-gray-600",children:"Inicia sesión para ver tu perfil"}),o.jsx(R,{asChild:!0,className:"mt-4",children:o.jsx(F,{to:"/login",children:"Iniciar sesión"})})]})]})};export{se as default};
