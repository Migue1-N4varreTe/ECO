var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(s,a,i)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[a]=i,c=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&n(e,a,s[a]);if(i)for(var a of i(s))l.call(s,a)&&n(e,a,s[a]);return e},t=(e,i)=>s(e,a(i)),d=(e,s,a)=>new Promise((i,r)=>{var l=e=>{try{c(a.next(e))}catch(s){r(s)}},n=e=>{try{c(a.throw(e))}catch(s){r(s)}},c=e=>e.done?i(e.value):Promise.resolve(e.value).then(l,n);c((a=a.apply(e,s)).next())});import{j as o,ac as m,aY as h,a9 as x,b1 as j,aJ as u,aK as p,b2 as f,b3 as v,aX as N}from"./chunk-D1ivKm1I.js";import{h as g,a as y}from"./chunk-CNNdbZTC.js";import{m as b,p as w,N as C,C as k,n as P,o as E,e as S,L as V,I as F,B as O}from"./index-17eEFbcJ.js";import{S as z}from"./chunk-BZj8Mp6R.js";import{S as A}from"./chunk-Z0RKkQGX.js";import{S as R,a as T,b as D,c as M,d as L}from"./chunk-DQJYHBrk.js";import{T as I,a as U,b as G,c as B}from"./chunk-BDIyvL0l.js";import"./chunk-DGERTDnL.js";import"./chunk-BdChqvju.js";import"./chunk-B5XYL1Sr.js";const q=()=>{const{user:e,logout:s}=b(),a=g(),{toast:i}=w(),[r,l]=y.useState(!1),[n,q]=y.useState(!1),[_,H]=y.useState(!1),[J,K]=y.useState(!1),[X,Y]=y.useState({current:"",new:"",confirm:""}),[Z,$]=y.useState({email:!0,push:!0,sms:!1,orderUpdates:!0,promotions:!0,newProducts:!1}),[Q,W]=y.useState({profileVisibility:"private",showOnlineStatus:!1,allowDataCollection:!0,shareAnalytics:!1,allowMarketing:!1}),[ee,se]=y.useState({theme:"light",language:"es",currency:"VES",timezone:"America/Caracas",soundEffects:!0,animations:!0});return y.useEffect(()=>{e||a("/login")},[e,a]),e?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(C,{}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuración"}),o.jsx("p",{className:"text-gray-600",children:"Gestiona tu cuenta y preferencias de la aplicación"})]}),o.jsxs(I,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(U,{className:"grid w-full grid-cols-4",children:[o.jsxs(G,{value:"profile",className:"flex items-center",children:[o.jsx(m,{className:"h-4 w-4 mr-2"}),"Perfil"]}),o.jsxs(G,{value:"notifications",className:"flex items-center",children:[o.jsx(h,{className:"h-4 w-4 mr-2"}),"Notificaciones"]}),o.jsxs(G,{value:"privacy",className:"flex items-center",children:[o.jsx(x,{className:"h-4 w-4 mr-2"}),"Privacidad"]}),o.jsxs(G,{value:"appearance",className:"flex items-center",children:[o.jsx(j,{className:"h-4 w-4 mr-2"}),"Apariencia"]})]}),o.jsxs(B,{value:"profile",className:"space-y-6",children:[o.jsxs(k,{children:[o.jsx(P,{children:o.jsx(E,{children:"Información Personal"})}),o.jsx(S,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(V,{htmlFor:"firstName",children:"Nombre"}),o.jsx(F,{id:"firstName",defaultValue:e.first_name,placeholder:"Tu nombre"})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"lastName",children:"Apellido"}),o.jsx(F,{id:"lastName",defaultValue:e.last_name,placeholder:"Tu apellido"})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"email",children:"Email"}),o.jsx(F,{id:"email",type:"email",defaultValue:e.email,placeholder:"tu@email.com"})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"role",children:"Rol"}),o.jsx(F,{id:"role",defaultValue:e.role,disabled:!0,className:"bg-gray-100"})]})]})})]}),o.jsxs(k,{children:[o.jsx(P,{children:o.jsx(E,{children:"Cambiar Contraseña"})}),o.jsxs(S,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(V,{htmlFor:"currentPassword",children:"Contraseña Actual"}),o.jsxs("div",{className:"relative",children:[o.jsx(F,{id:"currentPassword",type:n?"text":"password",value:X.current,onChange:e=>Y(t(c({},X),{current:e.target.value})),placeholder:"Contraseña actual"}),o.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>q(!n),children:n?o.jsx(u,{className:"h-4 w-4"}):o.jsx(p,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"newPassword",children:"Nueva Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx(F,{id:"newPassword",type:_?"text":"password",value:X.new,onChange:e=>Y(t(c({},X),{new:e.target.value})),placeholder:"Nueva contrase��a"}),o.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>H(!_),children:_?o.jsx(u,{className:"h-4 w-4"}):o.jsx(p,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"confirmPassword",children:"Confirmar Nueva Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx(F,{id:"confirmPassword",type:J?"text":"password",value:X.confirm,onChange:e=>Y(t(c({},X),{confirm:e.target.value})),placeholder:"Confirmar nueva contraseña"}),o.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>K(!J),children:J?o.jsx(u,{className:"h-4 w-4"}):o.jsx(p,{className:"h-4 w-4"})})]})]}),o.jsx(O,{onClick:()=>d(null,null,function*(){if(X.new===X.confirm)if(X.new.length<6)i({title:"Error",description:"La nueva contraseña debe tener al menos 6 caracteres",variant:"destructive"});else{l(!0);try{yield new Promise(e=>setTimeout(e,2e3)),Y({current:"",new:"",confirm:""}),i({title:"Contraseña actualizada",description:"Tu contraseña ha sido cambiada exitosamente"})}catch(e){i({title:"Error",description:"No se pudo cambiar la contraseña",variant:"destructive"})}finally{l(!1)}}else i({title:"Error",description:"Las contraseñas no coinciden",variant:"destructive"})}),disabled:r,children:r?"Cambiando...":"Cambiar Contraseña"})]})]})]}),o.jsx(B,{value:"notifications",className:"space-y-6",children:o.jsxs(k,{children:[o.jsx(P,{children:o.jsx(E,{children:"Preferencias de Notificaciones"})}),o.jsxs(S,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Notificaciones por Email"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Recibir notificaciones en tu email"})]}),o.jsx(A,{checked:Z.email,onCheckedChange:e=>$(t(c({},Z),{email:e}))})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Notificaciones Push"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Recibir notificaciones en el navegador"})]}),o.jsx(A,{checked:Z.push,onCheckedChange:e=>$(t(c({},Z),{push:e}))})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Actualizaciones de Pedidos"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Notificaciones sobre el estado de tus pedidos"})]}),o.jsx(A,{checked:Z.orderUpdates,onCheckedChange:e=>$(t(c({},Z),{orderUpdates:e}))})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Promociones"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Recibir ofertas y promociones especiales"})]}),o.jsx(A,{checked:Z.promotions,onCheckedChange:e=>$(t(c({},Z),{promotions:e}))})]})]})]})}),o.jsx(B,{value:"privacy",className:"space-y-6",children:o.jsxs(k,{children:[o.jsx(P,{children:o.jsx(E,{children:"Configuración de Privacidad"})}),o.jsxs(S,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(V,{htmlFor:"visibility",children:"Visibilidad del Perfil"}),o.jsxs(R,{value:Q.profileVisibility,onValueChange:e=>W(t(c({},Q),{profileVisibility:e})),children:[o.jsx(T,{children:o.jsx(D,{})}),o.jsxs(M,{children:[o.jsx(L,{value:"public",children:"Público"}),o.jsx(L,{value:"friends",children:"Solo Amigos"}),o.jsx(L,{value:"private",children:"Privado"})]})]})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Permitir Recolección de Datos"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ayudar a mejorar el servicio compartiendo datos anónimos"})]}),o.jsx(A,{checked:Q.allowDataCollection,onCheckedChange:e=>W(t(c({},Q),{allowDataCollection:e}))})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Marketing"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Recibir comunicaciones de marketing personalizadas"})]}),o.jsx(A,{checked:Q.allowMarketing,onCheckedChange:e=>W(t(c({},Q),{allowMarketing:e}))})]})]})]})}),o.jsx(B,{value:"appearance",className:"space-y-6",children:o.jsxs(k,{children:[o.jsx(P,{children:o.jsx(E,{children:"Personalización de la Interfaz"})}),o.jsxs(S,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(V,{htmlFor:"theme",children:"Tema"}),o.jsxs(R,{value:ee.theme,onValueChange:e=>se(t(c({},ee),{theme:e})),children:[o.jsx(T,{children:o.jsx(D,{})}),o.jsxs(M,{children:[o.jsx(L,{value:"light",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(f,{className:"h-4 w-4 mr-2"}),"Claro"]})}),o.jsx(L,{value:"dark",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(v,{className:"h-4 w-4 mr-2"}),"Oscuro"]})}),o.jsx(L,{value:"system",children:"Sistema"})]})]})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"language",children:"Idioma"}),o.jsxs(R,{value:ee.language,onValueChange:e=>se(t(c({},ee),{language:e})),children:[o.jsx(T,{children:o.jsx(D,{})}),o.jsxs(M,{children:[o.jsx(L,{value:"es",children:"Español"}),o.jsx(L,{value:"en",children:"English"}),o.jsx(L,{value:"pt",children:"Português"})]})]})]}),o.jsxs("div",{children:[o.jsx(V,{htmlFor:"currency",children:"Moneda"}),o.jsxs(R,{value:ee.currency,onValueChange:e=>se(t(c({},ee),{currency:e})),children:[o.jsx(T,{children:o.jsx(D,{})}),o.jsxs(M,{children:[o.jsx(L,{value:"VES",children:"Bolívar Soberano (Bs)"}),o.jsx(L,{value:"USD",children:"Dólar Estadounidense ($)"}),o.jsx(L,{value:"EUR",children:"Euro (€)"})]})]})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Efectos de Sonido"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Reproducir sonidos en la interfaz"})]}),o.jsx(A,{checked:ee.soundEffects,onCheckedChange:e=>se(t(c({},ee),{soundEffects:e}))})]}),o.jsx(z,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Animaciones"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Mostrar animaciones y transiciones"})]}),o.jsx(A,{checked:ee.animations,onCheckedChange:e=>se(t(c({},ee),{animations:e}))})]})]})]})})]}),o.jsx(k,{children:o.jsx(S,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Guardar Cambios"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Los cambios se aplicarán inmediatamente"})]}),o.jsxs(O,{onClick:()=>d(null,null,function*(){l(!0);try{yield new Promise(e=>setTimeout(e,1e3)),i({title:"Configuración guardada",description:"Los cambios han sido aplicados exitosamente"})}catch(e){i({title:"Error",description:"No se pudieron guardar los cambios",variant:"destructive"})}finally{l(!1)}}),disabled:r,children:[o.jsx(N,{className:"h-4 w-4 mr-2"}),r?"Guardando...":"Guardar Configuración"]})]})})}),o.jsxs(k,{className:"border-red-200",children:[o.jsx(P,{children:o.jsx(E,{className:"text-red-600",children:"Zona de Peligro"})}),o.jsx(S,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-red-600",children:"Eliminar Cuenta"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción eliminará permanentemente tu cuenta y todos tus datos"})]}),o.jsx(O,{variant:"destructive",onClick:()=>d(null,null,function*(){if(window.confirm("¿Estás seguro de que quieres eliminar tu cuenta? Esta acción no se puede deshacer."))try{yield s(),a("/"),i({title:"Cuenta eliminada",description:"Tu cuenta ha sido eliminada exitosamente"})}catch(e){i({title:"Error",description:"No se pudo eliminar la cuenta",variant:"destructive"})}}),children:"Eliminar Cuenta"})]})})]})]})]}):null};export{q as default};
