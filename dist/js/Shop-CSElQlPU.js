import{j as e,aa as s,ax as a,ay as r,X as l}from"./chunk-D1ivKm1I.js";import{k as t,a as c}from"./chunk-CNNdbZTC.js";import{a as i,N as n,I as o,c as d,B as m,b as u,g as h,d as x}from"./index-17eEFbcJ.js";import{G as j}from"./chunk-C51-zONU.js";import{P as p}from"./chunk-FLXBpBPA.js";import{S as g,a as v,b as N,c as y,d as f}from"./chunk-DQJYHBrk.js";import"./chunk-BsfyY2FU.js";import"./chunk-DGERTDnL.js";import"./chunk-BdChqvju.js";import"./chunk-B5XYL1Sr.js";import"./chunk-Cw3qc0hc.js";import"./chunk-DqMloB5Z.js";const b=()=>{const[e,s]=c.useState(!1);return null},C=()=>{var C,w;const[k,S]=c.useState("grid"),[F,L]=c.useState(!1),{searchQuery:P,selectedCategory:$,sortBy:B,priceFilter:Q,filteredProducts:z,activeFiltersCount:E,updateSearchQuery:T,updateCategory:M,setSortBy:V,setPriceFilter:q,clearFilters:A,resultCount:G}=function(){const[e,s]=t(),[a,r]=c.useState(e.get("search")||""),[l,n]=c.useState(e.get("category")||""),[o,d]=c.useState("popular"),[m,u]=c.useState("");c.useEffect(()=>{const s=e.get("search"),t=e.get("category");s!==a&&r(s||""),t!==l&&n(t||"")},[e]);const h=a=>{const r=new URLSearchParams(e);Object.entries(a).forEach(([e,s])=>{s&&s.trim()?r.set(e,s):r.delete(e)}),s(r)},x=c.useMemo(()=>{let e=[...i];if(a&&(e=e.filter(e=>{var s,r,l;return(null==(s=e.name)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.description)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(l=e.tags)?void 0:l.some(e=>null==e?void 0:e.toLowerCase().includes(a.toLowerCase())))})),l&&(e=e.filter(e=>e.category===l)),m){const[s,a]=m.split("-").map(Number);e=e.filter(e=>a?e.price>=s&&e.price<=a:e.price>=s)}switch(o){case"price-low":e.sort((e,s)=>e.price-s.price);break;case"price-high":e.sort((e,s)=>s.price-e.price);break;case"rating":e.sort((e,s)=>s.rating-e.rating);break;case"name":e.sort((e,s)=>e.name.localeCompare(s.name));break;default:e.sort((e,s)=>s.reviewCount-e.reviewCount)}return e},[a,l,o,m]),j=[a,l,m].filter(Boolean).length;return{searchQuery:a,selectedCategory:l,sortBy:o,priceFilter:m,filteredProducts:x,activeFiltersCount:j,updateSearchQuery:e=>{r(e),h({search:e})},updateCategory:e=>{n(e),h({category:e})},setSortBy:d,setPriceFilter:u,clearFilters:()=>{r(""),n(""),u(""),s({})},hasActiveFilters:j>0,resultCount:x.length}}();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(n,{}),e.jsxs("div",{className:"container px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(j,{})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"font-display font-bold text-3xl text-gray-900 mb-2",children:"Tienda"}),e.jsx("p",{className:"text-gray-600",children:"Encuentra todos los productos que necesitas"})]}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(o,{placeholder:"Buscar productos...",value:P,onChange:e=>T(e.target.value),className:"pl-10 pr-4 h-12 text-base"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs(g,{value:$||"all",onValueChange:e=>M("all"===e?"":e),children:[e.jsx(v,{className:"w-48",children:e.jsx(N,{placeholder:"Todas las categor√≠as"})}),e.jsxs(y,{children:[e.jsx(f,{value:"all",children:"Todas las categor√≠as"}),d.map(s=>e.jsxs(f,{value:s.id,children:[s.icon," ",s.name]},s.id))]})]}),e.jsxs(g,{value:Q||"all",onValueChange:e=>q("all"===e?"":e),children:[e.jsx(v,{className:"w-36",children:e.jsx(N,{placeholder:"Precio"})}),e.jsxs(y,{children:[e.jsx(f,{value:"all",children:"Todos los precios"}),e.jsx(f,{value:"0-20",children:"$0 - $20"}),e.jsx(f,{value:"20-50",children:"$20 - $50"}),e.jsx(f,{value:"50-100",children:"$50 - $100"}),e.jsx(f,{value:"100",children:"$100+"})]})]}),e.jsxs(g,{value:B,onValueChange:V,children:[e.jsx(v,{className:"w-48",children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(f,{value:"popular",children:"M√°s populares"}),e.jsx(f,{value:"price-low",children:"Precio: menor a mayor"}),e.jsx(f,{value:"price-high",children:"Precio: mayor a menor"}),e.jsx(f,{value:"rating",children:"Mejor calificados"}),e.jsx(f,{value:"name",children:"Nombre A-Z"})]})]}),e.jsxs("div",{className:"flex items-center border rounded-lg p-1 ml-auto",children:[e.jsx(m,{variant:"grid"===k?"default":"ghost",size:"sm",onClick:()=>S("grid"),className:"px-3",children:e.jsx(a,{className:"h-4 w-4"})}),e.jsx(m,{variant:"list"===k?"default":"ghost",size:"sm",onClick:()=>S("list"),className:"px-3",children:e.jsx(r,{className:"h-4 w-4"})})]})]}),E>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Filtros activos:"}),$&&e.jsxs(u,{variant:"secondary",className:"gap-1",children:[null==(C=d.find(e=>e.id===$))?void 0:C.name,e.jsx("button",{onClick:()=>setSelectedCategory(""),className:"ml-1 hover:bg-gray-300 rounded-full",children:e.jsx(l,{className:"h-3 w-3"})})]}),Q&&e.jsxs(u,{variant:"secondary",className:"gap-1",children:["$",Q.includes("-")?Q.replace("-"," - $"):Q+"+",e.jsx("button",{onClick:()=>q(""),className:"ml-1 hover:bg-gray-300 rounded-full",children:e.jsx(l,{className:"h-3 w-3"})})]}),P&&e.jsxs(u,{variant:"secondary",className:"gap-1",children:['"',P,'"',e.jsx("button",{onClick:()=>setSearchQuery(""),className:"ml-1 hover:bg-gray-300 rounded-full",children:e.jsx(l,{className:"h-3 w-3"})})]}),e.jsx(m,{variant:"ghost",size:"sm",onClick:A,className:"text-xs text-gray-600 hover:text-gray-900",children:"Limpiar todos"})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-900",children:G.toLocaleString()})," ","productos encontrados",$?e.jsxs("span",{className:"ml-2",children:["en"," ",e.jsx("span",{className:"font-medium text-gray-900",children:null==(w=d.find(e=>e.id===$))?void 0:w.name})]}):e.jsxs("span",{className:"ml-2",children:["de"," ",e.jsxs("span",{className:"font-medium text-brand-600",children:[h().toLocaleString()," productos totales"]})]})]})}),z.length>0?e.jsx("div",{className:x("gap-6","grid"===k?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"space-y-4"),children:z.map(s=>e.jsx(p,{product:s,className:"list"===k?"flex":""},s.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üîç"}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2",children:"No encontramos productos"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Intenta ajustar tus filtros de b√∫squeda o explora nuestras categor√≠as"}),e.jsx(m,{onClick:A,variant:"outline",children:"Limpiar filtros"})]}),z.length>20&&e.jsx("div",{className:"text-center mt-12",children:e.jsx(m,{variant:"outline",size:"lg",children:"Cargar m√°s productos"})})]}),e.jsx(b,{})]})};export{C as default};
