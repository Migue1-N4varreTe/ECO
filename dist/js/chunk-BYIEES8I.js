var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(r,t,s)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,o=(e,r)=>{for(var t in r||(r={}))i.call(r,t)&&n(e,t,r[t]);if(s)for(var t of s(r))a.call(r,t)&&n(e,t,r[t]);return e},l=(e,s)=>r(e,t(s)),u=(e,r)=>{var t={};for(var n in e)i.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&s)for(var n of s(e))r.indexOf(n)<0&&a.call(e,n)&&(t[n]=e[n]);return t},d=(e,r,t)=>new Promise((s,i)=>{var a=e=>{try{o(t.next(e))}catch(r){i(r)}},n=e=>{try{o(t.throw(e))}catch(r){i(r)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,n);o((t=t.apply(e,r)).next())});import{R as f,a as c}from"./chunk-CNNdbZTC.js";var y=e=>"checkbox"===e.type,m=e=>e instanceof Date,v=e=>null==e;const h=e=>"object"==typeof e;var g=e=>!v(e)&&!Array.isArray(e)&&h(e)&&!m(e),p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function b(e){let r;const t=Array.isArray(e),s="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)r=new Date(e);else{if(p&&(e instanceof Blob||s)||!t&&!g(e))return e;if(r=t?[]:{},t||(e=>{const r=e.constructor&&e.constructor.prototype;return g(r)&&r.hasOwnProperty("isPrototypeOf")})(e))for(const t in e)e.hasOwnProperty(t)&&(r[t]=b(e[t]));else r=e}return r}var V=e=>/^\w*$/.test(e),_=e=>void 0===e,A=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>A(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,r,t)=>{if(!r||!g(e))return t;const s=(V(r)?[r]:F(r)).reduce((e,r)=>v(e)?e:e[r],e);return _(s)||s===e?_(e[r])?t:e[r]:s},x=e=>"boolean"==typeof e,k=(e,r,t)=>{let s=-1;const i=V(r)?[r]:F(r),a=i.length,n=a-1;for(;++s<a;){const r=i[s];let a=t;if(s!==n){const t=e[r];a=g(t)||Array.isArray(t)?t:isNaN(+i[s+1])?{}:[]}if("__proto__"===r||"constructor"===r||"prototype"===r)return;e[r]=a,e=e[r]}};const D="blur",w="focusout",O="onBlur",E="onChange",j="onSubmit",C="onTouched",N="all",L="max",T="min",M="maxLength",U="minLength",P="pattern",B="required",R="validate";f.createContext(null).displayName="HookFormContext";const q="undefined"!=typeof window?c.useLayoutEffect:c.useEffect;var W=e=>"string"==typeof e,I=(e,r,t,s,i)=>r?l(o({},t[e]),{types:l(o({},t[e]&&t[e].types?t[e].types:{}),{[s]:i||!0})}):{},H=e=>Array.isArray(e)?e:[e],$=()=>{let e=[];return{get observers(){return e},next:r=>{for(const t of e)t.next&&t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(e=>e!==r)}}),unsubscribe:()=>{e=[]}}},z=e=>v(e)||!h(e);function G(e,r,t=new WeakSet){if(z(e)||z(r))return e===r;if(m(e)&&m(r))return e.getTime()===r.getTime();const s=Object.keys(e),i=Object.keys(r);if(s.length!==i.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const a of s){const s=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=r[a];if(m(s)&&m(e)||g(s)&&g(e)||Array.isArray(s)&&Array.isArray(e)?!G(s,e,t):s!==e)return!1}}return!0}var J=e=>g(e)&&!Object.keys(e).length,K=e=>"file"===e.type,Q=e=>"function"==typeof e,X=e=>{if(!p)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Y=e=>"select-multiple"===e.type,Z=e=>"radio"===e.type,ee=e=>X(e)&&e.isConnected;function re(e,r){const t=Array.isArray(r)?r:V(r)?[r]:F(r),s=1===t.length?e:function(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=_(e)?s++:e[r[s++]];return e}(e,t),i=t.length-1,a=t[i];return s&&delete s[a],0!==i&&(g(s)&&J(s)||Array.isArray(s)&&function(e){for(const r in e)if(e.hasOwnProperty(r)&&!_(e[r]))return!1;return!0}(s))&&re(e,t.slice(0,-1)),e}var te=e=>{for(const r in e)if(Q(e[r]))return!0;return!1};function se(e,r={}){const t=Array.isArray(e);if(g(e)||t)for(const s in e)Array.isArray(e[s])||g(e[s])&&!te(e[s])?(r[s]=Array.isArray(e[s])?[]:{},se(e[s],r[s])):v(e[s])||(r[s]=!0);return r}function ie(e,r,t){const s=Array.isArray(e);if(g(e)||s)for(const i in e)Array.isArray(e[i])||g(e[i])&&!te(e[i])?_(r)||z(t[i])?t[i]=Array.isArray(e[i])?se(e[i],[]):o({},se(e[i])):ie(e[i],v(r)?{}:r[i],t[i]):t[i]=!G(e[i],r[i]);return t}var ae=(e,r)=>ie(e,r,se(r));const ne={value:!1,isValid:!1},oe={value:!0,isValid:!0};var le=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_(e[0].attributes.value)?_(e[0].value)||""===e[0].value?oe:{value:e[0].value,isValid:!0}:oe:ne}return ne},ue=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>_(e)?e:r?""===e?NaN:e?+e:e:t&&W(e)?new Date(e):s?s(e):e;const de={isValid:!1,value:null};var fe=e=>Array.isArray(e)?e.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,de):de;function ce(e){const r=e.ref;return K(r)?r.files:Z(r)?fe(e.refs).value:Y(r)?[...r.selectedOptions].map(({value:e})=>e):y(r)?le(e.refs).value:ue(_(r.value)?e.ref.value:r.value,e)}var ye=e=>e instanceof RegExp,me=e=>_(e)?e:ye(e)?e.source:g(e)?ye(e.value)?e.value.source:e.value:e,ve=e=>({isOnSubmit:!e||e===j,isOnBlur:e===O,isOnChange:e===E,isOnAll:e===N,isOnTouch:e===C});const he="AsyncFunction";var ge=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===he||g(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===he)),pe=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const be=(e,r,t,s)=>{for(const i of t||Object.keys(e)){const t=S(e,i);if(t){const e=t,{_f:a}=e,n=u(e,["_f"]);if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],i)&&!s)return!0;if(a.ref&&r(a.ref,a.name)&&!s)return!0;if(be(n,r))break}else if(g(n)&&be(n,r))break}}};function Ve(e,r,t){const s=S(e,t);if(s||V(t))return{error:s,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),a=S(r,s),n=S(e,s);if(a&&!Array.isArray(a)&&t!==s)return{name:t};if(n&&n.type)return{name:s,error:n};if(n&&n.root&&n.root.type)return{name:`${s}.root`,error:n.root};i.pop()}return{name:t}}var _e=(e,r,t)=>{const s=H(S(e,t));return k(s,"root",r[t]),k(e,t,s),e},Ae=e=>W(e);function Fe(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||x(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var Se=e=>g(e)&&!ye(e)?e:{value:e,message:""},xe=(e,r,t,s,i,a)=>d(null,null,function*(){const{ref:n,refs:l,required:u,maxLength:d,minLength:f,min:c,max:m,pattern:h,validate:p,name:b,valueAsNumber:V,mount:A}=e._f,F=S(t,b);if(!A||r.has(b))return{};const k=l?l[0]:n,D=e=>{i&&k.reportValidity&&(k.setCustomValidity(x(e)?"":e||""),k.reportValidity())},w={},O=Z(n),E=y(n),j=O||E,C=(V||K(n))&&_(n.value)&&_(F)||X(n)&&""===n.value||""===F||Array.isArray(F)&&!F.length,N=I.bind(null,b,s,w),q=(e,r,t,s=M,i=U)=>{const a=e?r:t;w[b]=o({type:e?s:i,message:a,ref:n},N(e?s:i,a))};if(a?!Array.isArray(F)||!F.length:u&&(!j&&(C||v(F))||x(F)&&!F||E&&!le(l).isValid||O&&!fe(l).isValid)){const{value:e,message:r}=Ae(u)?{value:!!u,message:u}:Se(u);if(e&&(w[b]=o({type:B,message:r,ref:k},N(B,r)),!s))return D(r),w}if(!(C||v(c)&&v(m))){let e,r;const t=Se(m),i=Se(c);if(v(F)||isNaN(F)){const s=n.valueAsDate||new Date(F),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==n.type,l="week"==n.type;W(t.value)&&F&&(e=o?a(F)>a(t.value):l?F>t.value:s>new Date(t.value)),W(i.value)&&F&&(r=o?a(F)<a(i.value):l?F<i.value:s<new Date(i.value))}else{const s=n.valueAsNumber||(F?+F:F);v(t.value)||(e=s>t.value),v(i.value)||(r=s<i.value)}if((e||r)&&(q(!!e,t.message,i.message,L,T),!s))return D(w[b].message),w}if((d||f)&&!C&&(W(F)||a&&Array.isArray(F))){const e=Se(d),r=Se(f),t=!v(e.value)&&F.length>+e.value,i=!v(r.value)&&F.length<+r.value;if((t||i)&&(q(t,e.message,r.message),!s))return D(w[b].message),w}if(h&&!C&&W(F)){const{value:e,message:r}=Se(h);if(ye(e)&&!F.match(e)&&(w[b]=o({type:P,message:r,ref:n},N(P,r)),!s))return D(r),w}if(p)if(Q(p)){const e=Fe(yield p(F,t),k);if(e&&(w[b]=o(o({},e),N(R,e.message)),!s))return D(e.message),w}else if(g(p)){let e={};for(const r in p){if(!J(e)&&!s)break;const i=Fe(yield p[r](F,t),k,r);i&&(e=o(o({},i),N(r,i.message)),D(i.message),s&&(w[b]=e))}if(!J(e)&&(w[b]=o({ref:k},e),!s))return w}return D(!0),w});const ke={mode:j,reValidateMode:E,shouldFocusError:!0};function De(e={}){let r,t=o(o({},ke),e),s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},a=(g(t.defaultValues)||g(t.values))&&b(t.defaultValues||t.values)||{},n=t.shouldUnregister?{}:b(a),f={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let F=o({},V);const O={array:$(),state:$()},E=t.criteriaMode===N,j=e=>d(null,null,function*(){if(!t.disabled&&(V.isValid||F.isValid||e)){const e=t.resolver?J((yield U()).errors):yield P(i,!0);e!==s.isValid&&O.state.next({isValid:e})}}),C=(e,r)=>{!t.disabled&&(V.isValidating||V.validatingFields||F.isValidating||F.validatingFields)&&((e||Array.from(c.mount)).forEach(e=>{e&&(r?k(s.validatingFields,e,r):re(s.validatingFields,e))}),O.state.next({validatingFields:s.validatingFields,isValidating:!J(s.validatingFields)}))},L=(e,r,t,s)=>{const o=S(i,e);if(o){const i=S(n,e,_(t)?S(a,e):t);_(i)||s&&s.defaultChecked||r?k(n,e,r?i:ce(o._f)):q(e,i),f.mount&&j()}},T=(e,r,i,n,o)=>{let l=!1,u=!1;const d={name:e};if(!t.disabled){if(!i||n){(V.isDirty||F.isDirty)&&(u=s.isDirty,s.isDirty=d.isDirty=B(),l=u!==d.isDirty);const t=G(S(a,e),r);u=!!S(s.dirtyFields,e),t?re(s.dirtyFields,e):k(s.dirtyFields,e,!0),d.dirtyFields=s.dirtyFields,l=l||(V.dirtyFields||F.dirtyFields)&&u!==!t}if(i){const r=S(s.touchedFields,e);r||(k(s.touchedFields,e,i),d.touchedFields=s.touchedFields,l=l||(V.touchedFields||F.touchedFields)&&r!==i)}l&&o&&O.state.next(d)}return l?d:{}},M=(e,i,a,n)=>{const u=S(s.errors,e),d=(V.isValid||F.isValid)&&x(i)&&s.isValid!==i;var f;if(t.delayError&&a?(f=()=>((e,r)=>{k(s.errors,e,r),O.state.next({errors:s.errors})})(e,a),r=e=>{clearTimeout(h),h=setTimeout(f,e)},r(t.delayError)):(clearTimeout(h),r=null,a?k(s.errors,e,a):re(s.errors,e)),(a?!G(u,a):u)||!J(n)||d){const r=l(o(o({},n),d&&x(i)?{isValid:i}:{}),{errors:s.errors,name:e});s=o(o({},s),r),O.state.next(r)}},U=e=>d(null,null,function*(){C(e,!0);const r=yield t.resolver(n,t.context,((e,r,t,s)=>{const i={};for(const a of e){const e=S(r,a);e&&k(i,a,e._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:s}})(e||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return C(e),r}),P=(e,r,...i)=>d(null,[e,r,...i],function*(e,r,i={valid:!0}){for(const a in e){const o=e[a];if(o){const e=o,{_f:l}=e,d=u(e,["_f"]);if(l){const e=c.array.has(l.name),u=o._f&&ge(o._f);u&&V.validatingFields&&C([a],!0);const d=yield xe(o,c.disabled,n,E,t.shouldUseNativeValidation&&!r,e);if(u&&V.validatingFields&&C([a]),d[l.name]&&(i.valid=!1,r))break;!r&&(S(d,l.name)?e?_e(s.errors,d,l.name):k(s.errors,l.name,d[l.name]):re(s.errors,l.name))}!J(d)&&(yield P(d,r,i))}}return i.valid}),B=(e,r)=>!t.disabled&&(e&&r&&k(n,e,r),!G(ne(),a)),R=(e,r,t)=>((e,r,t,s,i)=>W(e)?(s&&r.watch.add(e),S(t,e,i)):Array.isArray(e)?e.map(e=>(s&&r.watch.add(e),S(t,e))):(s&&(r.watchAll=!0),t))(e,c,o({},f.mount?n:_(r)?a:W(e)?{[e]:r}:r),t,r),q=(e,r,t={})=>{const s=S(i,e);let a=r;if(s){const t=s._f;t&&(!t.disabled&&k(n,e,ue(r,t)),a=X(t.ref)&&v(r)?"":r,Y(t.ref)?[...t.ref.options].forEach(e=>e.selected=a.includes(e.value)):t.refs?y(t.ref)?t.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(r=>r===e.value):e.checked=a===e.value||!!a)}):t.refs.forEach(e=>e.checked=e.value===a):K(t.ref)?t.ref.value="":(t.ref.value=a,t.ref.type||O.state.next({name:e,values:b(n)})))}(t.shouldDirty||t.shouldTouch)&&T(e,a,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&ie(e)},I=(e,r,t)=>{for(const s in r){if(!r.hasOwnProperty(s))return;const a=r[s],n=e+"."+s,o=S(i,n);(c.array.has(e)||g(a)||o&&!o._f)&&!m(a)?I(n,a,t):q(n,a,t)}},z=(e,r,t={})=>{const l=S(i,e),u=c.array.has(e),d=b(r);k(n,e,d),u?(O.array.next({name:e,values:b(n)}),(V.isDirty||V.dirtyFields||F.isDirty||F.dirtyFields)&&t.shouldDirty&&O.state.next({name:e,dirtyFields:ae(a,n),isDirty:B(e,d)})):!l||l._f||v(d)?q(e,d,t):I(e,d,t),pe(e,c)&&O.state.next(o({},s)),O.state.next({name:f.mount?e:void 0,values:b(n)})},te=e=>d(null,null,function*(){f.mount=!0;const a=e.target;let l=a.name,u=!0;const d=S(i,l),v=e=>{u=Number.isNaN(e)||m(e)&&isNaN(e.getTime())||G(e,S(n,l,e))},h=ve(t.mode),p=ve(t.reValidateMode);if(d){let f,m;const A=a.type?ce(d._f):(e=>g(e)&&e.target?y(e.target)?e.target.checked:e.target.value:e)(e),x=e.type===D||e.type===w,N=!((_=d._f).mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate)||t.resolver||S(s.errors,l)||d._f.deps)||((e,r,t,s,i)=>!i.isOnAll&&(!t&&i.isOnTouch?!(r||e):(t?s.isOnBlur:i.isOnBlur)?!e:!(t?s.isOnChange:i.isOnChange)||e))(x,S(s.touchedFields,l),s.isSubmitted,p,h),L=pe(l,c,x);k(n,l,A),x?(d._f.onBlur&&d._f.onBlur(e),r&&r(0)):d._f.onChange&&d._f.onChange(e);const B=T(l,A,x),R=!J(B)||L;if(!x&&O.state.next({name:l,type:e.type,values:b(n)}),N)return(V.isValid||F.isValid)&&("onBlur"===t.mode?x&&j():x||j()),R&&O.state.next(o({name:l},L?{}:B));if(!x&&L&&O.state.next(o({},s)),t.resolver){const{errors:e}=yield U([l]);if(v(A),u){const r=Ve(s.errors,i,l),t=Ve(e,i,r.name||l);f=t.error,l=t.name,m=J(e)}}else C([l],!0),f=(yield xe(d,c.disabled,n,E,t.shouldUseNativeValidation))[l],C([l]),v(A),u&&(f?m=!1:(V.isValid||F.isValid)&&(m=yield P(i,!0)));u&&(d._f.deps&&ie(d._f.deps),M(l,m,f,B))}var _}),se=(e,r)=>{if(S(s.errors,r)&&e.focus)return e.focus(),1},ie=(e,...r)=>d(null,[e,...r],function*(e,r={}){let a,n;const u=H(e);if(t.resolver){const r=yield(f=_(e)?e:u,d(null,null,function*(){const{errors:e}=yield U(f);if(f)for(const r of f){const t=S(e,r);t?k(s.errors,r,t):re(s.errors,r)}else s.errors=e;return e}));a=J(r),n=e?!u.some(e=>S(r,e)):a}else e?(n=(yield Promise.all(u.map(e=>d(null,null,function*(){const r=S(i,e);return yield P(r&&r._f?{[e]:r}:r)})))).every(Boolean),(n||s.isValid)&&j()):n=a=yield P(i);var f;return O.state.next(l(o(o({},!W(e)||(V.isValid||F.isValid)&&a!==s.isValid?{}:{name:e}),t.resolver||!e?{isValid:a}:{}),{errors:s.errors})),r.shouldFocus&&!n&&be(i,se,e?u:c.mount),n}),ne=e=>{const r=o({},f.mount?n:a);return _(e)?r:W(e)?S(r,e):e.map(e=>S(r,e))},oe=(e,r)=>({invalid:!!S((r||s).errors,e),isDirty:!!S((r||s).dirtyFields,e),error:S((r||s).errors,e),isValidating:!!S(s.validatingFields,e),isTouched:!!S((r||s).touchedFields,e)}),le=(e,r,t)=>{const a=(S(i,e,{_f:{}})._f||{}).ref,n=S(s.errors,e)||{},{ref:d,message:f,type:c}=n,y=u(n,["ref","message","type"]);k(s.errors,e,l(o(o({},y),r),{ref:a})),O.state.next({name:e,errors:s.errors,isValid:!1}),t&&t.shouldFocus&&a&&a.focus&&a.focus()},de=e=>O.state.subscribe({next:r=>{var t,i,a;t=e.name,i=r.name,a=e.exact,t&&i&&t!==i&&!H(t).some(e=>e&&(a?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,r,t,s)=>{t(e);const i=e,{name:a}=i,n=u(i,["name"]);return J(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(e=>r[e]===(!s||N))})(r,e.formState||V,we,e.reRenderRoot)||e.callback(o(o({values:o({},n)},s),r))}}).unsubscribe,fe=(e,r={})=>{for(const o of e?H(e):c.mount)c.mount.delete(o),c.array.delete(o),r.keepValue||(re(i,o),re(n,o)),!r.keepError&&re(s.errors,o),!r.keepDirty&&re(s.dirtyFields,o),!r.keepTouched&&re(s.touchedFields,o),!r.keepIsValidating&&re(s.validatingFields,o),!t.shouldUnregister&&!r.keepDefaultValue&&re(a,o);O.state.next({values:b(n)}),O.state.next(o(o({},s),r.keepDirty?{isDirty:B()}:{})),!r.keepIsValid&&j()},ye=({disabled:e,name:r})=>{(x(e)&&f.mount||e||c.disabled.has(r))&&(e?c.disabled.add(r):c.disabled.delete(r))},he=(e,r={})=>{let s=S(i,e);const n=x(r.disabled)||x(t.disabled);return k(i,e,l(o({},s||{}),{_f:o(l(o({},s&&s._f?s._f:{ref:{name:e}}),{name:e,mount:!0}),r)})),c.mount.add(e),s?ye({disabled:x(r.disabled)?r.disabled:t.disabled,name:e}):L(e,!0,r.value),l(o(o({},n?{disabled:r.disabled||t.disabled}:{}),t.progressive?{required:!!r.required,min:me(r.min),max:me(r.max),minLength:me(r.minLength),maxLength:me(r.maxLength),pattern:me(r.pattern)}:{}),{name:e,onChange:te,onBlur:te,ref:n=>{if(n){he(e,r),s=S(i,e);const t=_(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,l=(e=>Z(e)||y(e))(t),u=s._f.refs||[];if(l?u.find(e=>e===t):t===s._f.ref)return;k(i,e,{_f:o(o({},s._f),l?{refs:[...u.filter(ee),t,...Array.isArray(S(a,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),L(e,!1,void 0,t)}else s=S(i,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!((e,r)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(r)))(c.array,e)||!f.action)&&c.unMount.add(e)}})},Ae=()=>t.shouldFocusError&&be(i,se,c.mount),Fe=(e,r)=>a=>d(null,null,function*(){let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let u=b(n);if(O.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:r}=yield U();s.errors=e,u=b(r)}else yield P(i);if(c.disabled.size)for(const e of c.disabled)re(u,e);if(re(s.errors,"root"),J(s.errors)){O.state.next({errors:{}});try{yield e(u,a)}catch(d){l=d}}else r&&(yield r(o({},s.errors),a)),Ae(),setTimeout(Ae);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(s.errors)&&!l,submitCount:s.submitCount+1,errors:s.errors}),l)throw l}),Se=(e,r={})=>{const l=e?b(e):a,u=b(l),d=J(e),y=d?a:u;if(r.keepDefaultValues||(a=l),!r.keepValues){if(r.keepDirtyValues){const e=new Set([...c.mount,...Object.keys(ae(a,n))]);for(const r of Array.from(e))S(s.dirtyFields,r)?k(y,r,S(n,r)):z(r,S(y,r))}else{if(p&&_(e))for(const e of c.mount){const r=S(i,e);if(r&&r._f){const e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(X(e)){const r=e.closest("form");if(r){r.reset();break}}}}if(r.keepFieldsRef)for(const e of c.mount)z(e,S(y,e));else i={}}n=t.shouldUnregister?r.keepDefaultValues?b(a):{}:b(y),O.array.next({values:o({},y)}),O.state.next({values:o({},y)})}c={mount:r.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!V.isValid||!!r.keepIsValid||!!r.keepDirtyValues,f.watch=!!t.shouldUnregister,O.state.next({submitCount:r.keepSubmitCount?s.submitCount:0,isDirty:!d&&(r.keepDirty?s.isDirty:!(!r.keepDefaultValues||G(e,a))),isSubmitted:!!r.keepIsSubmitted&&s.isSubmitted,dirtyFields:d?{}:r.keepDirtyValues?r.keepDefaultValues&&n?ae(a,n):s.dirtyFields:r.keepDefaultValues&&e?ae(a,e):r.keepDirty?s.dirtyFields:{},touchedFields:r.keepTouched?s.touchedFields:{},errors:r.keepErrors?s.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1})},De=(e,r)=>Se(Q(e)?e(n):e,r),we=e=>{s=o(o({},s),e)},Oe={control:{register:he,unregister:fe,getFieldState:oe,handleSubmit:Fe,setError:le,_subscribe:de,_runSchema:U,_focusError:Ae,_getWatch:R,_getDirty:B,_setValid:j,_setFieldArray:(e,r=[],o,l,u=!0,d=!0)=>{if(l&&o&&!t.disabled){if(f.action=!0,d&&Array.isArray(S(i,e))){const r=o(S(i,e),l.argA,l.argB);u&&k(i,e,r)}if(d&&Array.isArray(S(s.errors,e))){const r=o(S(s.errors,e),l.argA,l.argB);u&&k(s.errors,e,r),((e,r)=>{!A(S(e,r)).length&&re(e,r)})(s.errors,e)}if((V.touchedFields||F.touchedFields)&&d&&Array.isArray(S(s.touchedFields,e))){const r=o(S(s.touchedFields,e),l.argA,l.argB);u&&k(s.touchedFields,e,r)}(V.dirtyFields||F.dirtyFields)&&(s.dirtyFields=ae(a,n)),O.state.next({name:e,isDirty:B(e,r),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else k(n,e,r)},_setDisabledField:ye,_setErrors:e=>{s.errors=e,O.state.next({errors:s.errors,isValid:!1})},_getFieldArray:e=>A(S(f.mount?n:a,e,t.shouldUnregister?S(a,e,[]):[])),_reset:Se,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(e=>{De(e,t.resetOptions),O.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of c.unMount){const r=S(i,e);r&&(r._f.refs?r._f.refs.every(e=>!ee(e)):!ee(r._f.ref))&&fe(e)}c.unMount=new Set},_disableForm:e=>{x(e)&&(O.state.next({disabled:e}),be(i,(r,t)=>{const s=S(i,t);s&&(r.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(r=>{r.disabled=s._f.disabled||e}))},0,!1))},_subjects:O,_proxyFormState:V,get _fields(){return i},get _formValues(){return n},get _state(){return f},set _state(e){f=e},get _defaultValues(){return a},get _names(){return c},set _names(e){c=e},get _formState(){return s},get _options(){return t},set _options(e){t=o(o({},t),e)}},subscribe:e=>(f.mount=!0,F=o(o({},F),e.formState),de(l(o({},e),{formState:F}))),trigger:ie,register:he,handleSubmit:Fe,watch:(e,r)=>Q(e)?O.state.subscribe({next:t=>e(R(void 0,r),t)}):R(e,r,!0),setValue:z,getValues:ne,reset:De,resetField:(e,r={})=>{S(i,e)&&(_(r.defaultValue)?z(e,b(S(a,e))):(z(e,r.defaultValue),k(a,e,b(r.defaultValue))),r.keepTouched||re(s.touchedFields,e),r.keepDirty||(re(s.dirtyFields,e),s.isDirty=r.defaultValue?B(e,b(S(a,e))):B()),r.keepError||(re(s.errors,e),V.isValid&&j()),O.state.next(o({},s)))},clearErrors:e=>{e&&H(e).forEach(e=>re(s.errors,e)),O.state.next({errors:e?s.errors:{}})},unregister:fe,setError:le,setFocus:(e,r={})=>{const t=S(i,e),s=t&&t._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),r.shouldSelect&&Q(e.select)&&e.select())}},getFieldState:oe};return l(o({},Oe),{formControl:Oe})}function we(e={}){const r=f.useRef(void 0),t=f.useRef(void 0),[s,i]=f.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current=l(o({},e.formControl),{formState:s}),e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const t=De(e),{formControl:i}=t,a=u(t,["formControl"]);r.current=l(o({},a),{formState:s})}const a=r.current.control;return a._options=e,q(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>i(o({},a._formState)),reRenderRoot:!0});return i(e=>l(o({},e),{isReady:!0})),a._formState.isReady=!0,e},[a]),f.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),f.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),f.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),f.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),f.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==s.isDirty&&a._subjects.state.next({isDirty:e})}},[a,s.isDirty]),f.useEffect(()=>{e.values&&!G(e.values,t.current)?(a._reset(e.values,o({keepFieldsRef:!0},a._options.resetOptions)),t.current=e.values,i(e=>o({},e))):a._resetDefaultValues()},[a,e.values]),f.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next(o({},a._formState))),a._removeUnmounted()}),r.current.formState=((e,r,t,s=!0)=>{const i={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const t=a;return r._proxyFormState[t]!==N&&(r._proxyFormState[t]=!s||N),e[t]}});return i})(s,a),r.current}const Oe=(e,r,t)=>{if(e&&"reportValidity"in e){const s=S(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Ee=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?Oe(s.ref,t,e):s.refs&&s.refs.forEach(r=>Oe(r,t,e))}},je=(e,r)=>{r.shouldUseNativeValidation&&Ee(e,r);const t={};for(const s in e){const i=S(r.fields,s),a=Object.assign(e[s]||{},{ref:i&&i.ref});if(Ce(r.names||Object.keys(e),s)){const e=Object.assign({},S(t,s));k(e,"root",a),k(t,s,e)}else k(t,s,a)}return t},Ce=(e,r)=>e.some(e=>e.startsWith(r+"."));var Ne=function(e,r){for(var t={};e.length;){var s=e[0],i=s.code,a=s.message,n=s.path.join(".");if(!t[n])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];t[n]={message:o.message,type:o.code}}else t[n]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var l=t[n].types,u=l&&l[s.code];t[n]=I(n,r,t,i,u?[].concat(u,s.message):s.message)}e.shift()}return t},Le=function(e,r,t){return void 0===t&&(t={}),function(s,i,a){try{return Promise.resolve(function(i,n){try{var o=Promise.resolve(e["sync"===t.mode?"parse":"parseAsync"](s,r)).then(function(e){return a.shouldUseNativeValidation&&Ee({},a),{errors:{},values:t.raw?s:e}})}catch(l){return n(l)}return o&&o.then?o.then(void 0,n):o}(0,function(e){if(r=e,Array.isArray(null==r?void 0:r.errors))return{values:{},errors:je(Ne(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};var r;throw e}))}catch(n){return Promise.reject(n)}}};export{Le as t,we as u};
