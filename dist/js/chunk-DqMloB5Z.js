import{k as t,p as i,a as o}from"./index-17eEFbcJ.js";const e=()=>{const{addToCart:e,removeFromCart:r,updateQuantity:a,clearCart:n,getItemQuantity:d}=t(),{toast:c}=i();return{addToCartWithNotification:(t,i=1,r)=>{const a=o.find(i=>i.id===t);if(!a)return c({title:"Error",description:"Producto no encontrado",variant:"destructive",duration:3e3}),!1;if(!a.inStock)return c({title:"Producto agotado",description:`${r||a.name} está agotado`,variant:"destructive",duration:3e3}),!1;const n=d(t),s=n+i;return a.stock&&s>a.stock?(c({title:"Stock insuficiente",description:`Solo quedan ${a.stock} unidades disponibles${n>0?`. Ya tienes ${n} en tu carrito`:""}`,variant:"destructive",duration:3e3}),!1):(e(t,i),c({title:"Producto agregado",description:`${r||a.name} se agregó al carrito`,duration:2e3}),!0)},removeFromCartWithNotification:(t,i)=>{r(t),c({title:"Producto eliminado",description:`${i||"El producto"} se eliminó del carrito`,duration:2e3})},clearCartWithConfirmation:()=>{n(),c({title:"Carrito vaciado",description:"Se eliminaron todos los productos del carrito",duration:3e3})},updateQuantityWithValidation:(t,i,o)=>{i<1?r(t):o&&i>o?c({title:"Stock insuficiente",description:`Solo quedan ${o} unidades disponibles`,variant:"destructive",duration:3e3}):a(t,i)}}};export{e as u};
